(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{262:function(t,e){},326:function(t,e,n){t.exports=n(688)},331:function(t,e,n){},350:function(t,e){},352:function(t,e){},384:function(t,e){},385:function(t,e){},454:function(t,e){},583:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=583},687:function(t,e,n){},688:function(t,e,n){"use strict";n.r(e);var r=n(28),a=n.n(r),o=n(316),c=n.n(o),i=(n(331),n(187)),u=n.n(i),s=n(317),f=n(323),h=n(189),l=n(98),O=n(25),p=n(75),b=n(99),d=n(52),j=n(41),y=n(318),v=n(319),E=n.n(v),w=n(320),k=n.n(w),m=n(321),A=n.n(m),g=n(690),M=n(695),D=n(692),P=n(693),I=n(694),T=n(691),Y=n(324),W=n(325),L=n(20),S=(n(687),{POOP:"POOP",ASLEEP:"ASLEEP",AWAKE:"AWAKE",EAT:"EAT",MISC:"MISC"});var J=function(){function t(e){Object(d.a)(this,t),this.row=e}return Object(j.a)(t,null,[{key:"create",value:function(e){return e.activity.match(/poop/)?new K(e):e.activity.match(/asleep|down/)?new x(e):e.activity.match(/awake|up/)?new N(e):e.activity.match(/\d+/)?new B(e):new t(e)}}]),Object(j.a)(t,[{key:"canCoalesce",value:function(t){return!1}},{key:"toJson",value:function(){return{start:this.start,title:this.title,color:this.color}}},{key:"start",get:function(){return function(t){var e=t;return e=g.a(e," at "," "),e=g.a(e,"AM"," AM"),e=g.a(e,"PM"," PM"),Object(L.parse)(e)}(this.row.timestamp)}},{key:"title",get:function(){return this.row.activity}},{key:"type",get:function(){return S.MISC}}]),t}(),K=function(t){function e(){return Object(d.a)(this,e),Object(l.a)(this,Object(O.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(j.a)(e,[{key:"color",get:function(){return"brown"}},{key:"title",get:function(){return"\ud83d\udca9".concat(Object(p.a)(Object(O.a)(e.prototype),"title",this))}},{key:"type",get:function(){return S.POOP}}]),e}(J);function C(t){return"\ud83d\ude34 asleep for ".concat(function(t){var e=Math.floor(t/60),n=t%60;return n=n<10?"0"+n:n,"".concat(e,":").concat(n)}(t))}var x=function(t){function e(){return Object(d.a)(this,e),Object(l.a)(this,Object(O.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(j.a)(e,[{key:"canCoalesce",value:function(t){return Object(L.differenceInHours)(t.start,this.start)<24}},{key:"add",value:function(t){this.end=t.start}},{key:"toJson",value:function(){return Object(h.a)({},Object(p.a)(Object(O.a)(e.prototype),"toJson",this).call(this),{end:this.end})}},{key:"color",get:function(){return"green"}},{key:"title",get:function(){return this.end?C(Object(L.differenceInMinutes)(this.end,this.start)):"\ud83d\ude34".concat(Object(p.a)(Object(O.a)(e.prototype),"title",this))}},{key:"type",get:function(){return S.ASLEEP}}]),e}(J),N=function(t){function e(){return Object(d.a)(this,e),Object(l.a)(this,Object(O.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(j.a)(e,[{key:"color",get:function(){return"green"}},{key:"title",get:function(){return"\ud83d\ude0a".concat(Object(p.a)(Object(O.a)(e.prototype),"title",this))}},{key:"type",get:function(){return S.AWAKE}}]),e}(J),B=function(t){function e(t){var n;return Object(d.a)(this,e),(n=Object(l.a)(this,Object(O.a)(e).call(this))).rows=[t],n}return Object(b.a)(e,t),Object(j.a)(e,[{key:"canCoalesce",value:function(t){return Object(L.differenceInMinutes)(t.start,this.start)<60}},{key:"add",value:function(t){this.rows.push(t.row),this.end=t.start}},{key:"toJson",value:function(){return Object(h.a)({},Object(p.a)(Object(O.a)(e.prototype),"toJson",this).call(this),{amount:this.amount,end:this.end})}},{key:"row",get:function(){return this.rows[0]},set:function(t){}},{key:"amount",get:function(){return M.a(this.rows,function(t){return parseInt(t.activity.match(/\d+/)[0],10)})}},{key:"color",get:function(){return"purple"}},{key:"title",get:function(){var t=D.a(this.rows.length,function(){return"\ud83c\udf7c"}).join("");return"".concat(t,"took ").concat(this.amount)}},{key:"type",get:function(){return S.EAT}}]),e}(J),_=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;Object(d.a)(this,t),this.AWAKE_DURATION=2,this.BEDTIME=22,this.WAKETIME=10;var r=Object(L.addHours)(e,this.AWAKE_DURATION);this.start=Object(L.max)(r,n)}return Object(j.a)(t,[{key:"toJson",value:function(){return{start:this.start,title:this.title,color:"green"}}},{key:"title",get:function(){var t=Object(L.getHours)(this.start);return t>=this.BEDTIME||t<this.WAKETIME?"Time to sleep!":"Time for a nap!"}}]),t}(),H=function(){function t(e){Object(d.a)(this,t),this.obj=e}return Object(j.a)(t,[{key:"toJson",value:function(){return this.obj}}]),t}();function U(t){var e={};return{events:P.a(t,function(t,n){var r=J.create(n);if(r instanceof N){var a=e[S.ASLEEP];a&&a.canCoalesce(r)?a.add(r):t.push(r)}else if(r instanceof B){var o=e[S.EAT];o&&o.canCoalesce(r)?o.add(r):t.push(r)}else t.push(r);return e[r.type]=r,t},[]),recent:e}}function G(t){var e=function(t){return P.a(t,function(t,e){var n=Object(L.format)(e.start,"YYYY-MM-DD");if(t[n]||(t[n]=[]),t[n].push(e),e.end){var r=Object(L.format)(e.end,"YYYY-MM-DD");n!==r&&(t[r]||(t[r]=[]),t[r].push(e))}return t},{})}(t);return I.a(e,function(t,e){var n=T.a(t,Y.a("type")),r=[];if(n[S.POOP]){var a=n[S.POOP].length;r.push(new H({start:e,title:D.a(a,function(){return"\ud83d\udca9"}).join(""),color:"brown"}))}if(n[S.ASLEEP]){var o=function(t,e){return P.a(t,function(t,n){var r,a,o;return n.end?(Object(L.format)(n.start,"YYYY-MM-DD")!==e?(a=Object(L.startOfDay)(n.end),o=n.end):Object(L.format)(n.end,"YYYY-MM-DD")!==e?(a=n.start,o=Object(L.endOfDay)(n.start)):(a=n.start,o=n.end),r=Object(L.differenceInMinutes)(o,a)):r=0,t+r},0)}(n[S.ASLEEP],e);o&&r.push(new H({start:e,title:C(o),color:"green"}))}if(n[S.EAT]){var c=P.a(n[S.EAT],function(t,e){return t+(e.amount?e.amount:0)},0);c&&r.push(new H({start:e,title:"\ud83c\udf7ctook ".concat(c),color:"purple"}))}return r})}function R(t){if(t[S.AWAKE]&&t[S.ASLEEP]&&t[S.AWAKE].start>t[S.ASLEEP].start)return new _(t[S.AWAKE].start)}var V=function(){var t=Object(r.useState)(),e=Object(f.a)(t,2),n=e[0],o=e[1];return Object(r.useEffect)(function(){function t(){return e.apply(this,arguments)}function e(){return(e=Object(s.a)(u.a.mark(function t(){var e,n,r,a,c,i,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A()({spreadsheetId:"1oBithhxJbDtLmWqdntJfA72_Tz6coaNeVth4ZSNWLe8"});case 2:e=t.sent,n=U(e),r=n.events,a=n.recent,(c=R(a))&&r.push(c),i=G(r),s=r.concat(i),o(W.a(s,function(t){return t.toJson()}));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}return t(),window.addEventListener("focus",t),function(){window.removeEventListener("focus",t)}},[]),a.a.createElement("div",{className:"root"},a.a.createElement(y.a,{defaultView:"listDay",height:"parent",navLinks:!0,timeGridEventMinHeight:40,nowIndicator:!0,header:{left:"prev,next today",center:"title",right:"timeGridWeek,timeGridDay,listDay"},plugins:[E.a,k.a],events:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[326,1,2]]]);
//# sourceMappingURL=main.0baa78e6.chunk.js.map