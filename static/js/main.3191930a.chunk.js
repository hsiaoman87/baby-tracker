(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(t,e,n){t.exports=n(226)},120:function(t,e,n){},225:function(t,e,n){},226:function(t,e,n){"use strict";n.r(e);var r=n(6),a=n.n(r),o=n(106),c=n.n(o),i=(n(120),n(64)),u=n.n(i),s=n(107),f=n(112),h=n(67),j=n(53),l=n(29),b=n(7),O=n(30),p=n(22),d=n(17),y=n(108),v=n(109),m=n.n(v),k=n(110),g=n.n(k),E=n(228),A=n(234),w=n(231),M=n(229),x=n(232),D=n(233),P=n(230),T=n(113),Y=n(114),I=n(3),S=(n(225),{POOP:"POOP",ASLEEP:"ASLEEP",AWAKE:"AWAKE",EAT:"EAT",MISC:"MISC"});var W=function(){function t(e){Object(p.a)(this,t),this.obj=e}return Object(d.a)(t,null,[{key:"create",value:function(e){var n=function(t){var e=t;return e=E.a(e," at "," "),e=E.a(e,"AM"," AM"),e=E.a(e,"PM"," PM"),Object(I.parse)(e)}(e.timestamp),r=String(e.activity);return r.match(/poo/)?new L({start:n,text:r}):r.match(/sleep|down/)?new C({start:n,text:r}):r.match(/wake|up/)?new N({start:n,text:r}):r.match(/took \d+/)||!isNaN(Number(r))?new _({start:n,text:r}):new t({start:n,text:r})}}]),Object(d.a)(t,[{key:"canCoalesce",value:function(t){return!1}},{key:"toJson",value:function(){return{start:this.start,title:this.title,color:this.color}}},{key:"color",get:function(){return this.obj.color}},{key:"emoji",get:function(){return this.obj.emoji||""}},{key:"start",get:function(){return this.obj.start}},{key:"title",get:function(){return"".concat(this.emoji).concat(this.text)}},{key:"text",get:function(){return this.obj.text||""}},{key:"type",get:function(){return S.MISC}}]),t}(),L=function(t){function e(){return Object(p.a)(this,e),Object(l.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"color",get:function(){return"brown"}},{key:"emoji",get:function(){return"\ud83d\udca9"}},{key:"text",get:function(){return""}},{key:"type",get:function(){return S.POOP}}]),e}(W);function J(t){var e=Math.floor(t/60),n=t%60;return n=n<10?"0"+n:n,"".concat(e,":").concat(n)}function K(t){return"asleep for ".concat(J(t))}var C=function(t){function e(){return Object(p.a)(this,e),Object(l.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"canCoalesce",value:function(t){return Object(I.differenceInHours)(t.start,this.start)<24}},{key:"add",value:function(t){this.end=t.start}},{key:"toJson",value:function(){return Object(h.a)({},Object(j.a)(Object(b.a)(e.prototype),"toJson",this).call(this),{end:this.end})}},{key:"color",get:function(){return"green"}},{key:"emoji",get:function(){return"\ud83d\ude34"}},{key:"text",get:function(){return this.end?K(Object(I.differenceInMinutes)(this.end,this.start)):Object(j.a)(Object(b.a)(e.prototype),"text",this)}},{key:"type",get:function(){return S.ASLEEP}}]),e}(W),N=function(t){function e(){return Object(p.a)(this,e),Object(l.a)(this,Object(b.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(d.a)(e,[{key:"color",get:function(){return"green"}},{key:"emoji",get:function(){return"\ud83d\ude0a"}},{key:"type",get:function(){return S.AWAKE}}]),e}(W),_=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(l.a)(this,Object(b.a)(e).call(this))).objs=[t],n}return Object(O.a)(e,t),Object(d.a)(e,[{key:"canCoalesce",value:function(t){return Object(I.differenceInMinutes)(t.start,this.start)<60}},{key:"add",value:function(t){this.objs.push(t.obj),this.end=t.start}},{key:"toJson",value:function(){return Object(h.a)({},Object(j.a)(Object(b.a)(e.prototype),"toJson",this).call(this),{amount:this.amount,end:this.end})}},{key:"obj",get:function(){return this.objs[0]},set:function(t){}},{key:"amount",get:function(){return A.a(this.objs,function(t){return parseInt(t.text.match(/\d+/)[0],10)})}},{key:"color",get:function(){return"purple"}},{key:"emoji",get:function(){return w.a(this.objs.length,M.a("\ud83c\udf7c")).join("")}},{key:"text",get:function(){return"took ".concat(this.amount)}},{key:"type",get:function(){return S.EAT}}]),e}(W),B=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;Object(p.a)(this,e),(n=Object(l.a)(this,Object(b.a)(e).call(this))).AWAKE_DURATION=2.5,n.BEDTIME=22,n.WAKETIME=10,n._lastAwakeTime=t;var a=Object(I.addHours)(t,n.AWAKE_DURATION);return n._start=Object(I.max)(a,r),n}return Object(O.a)(e,t),Object(d.a)(e,[{key:"color",get:function(){return"green"}},{key:"emoji",get:function(){return"\ud83d\udca4"}},{key:"start",get:function(){return this._start}},{key:"text",get:function(){var t=function(t){return"awake for ".concat(J(t))}(Object(I.differenceInMinutes)(this.start,this._lastAwakeTime)),e=Object(I.getHours)(this.start);return e>=this.BEDTIME||e<this.WAKETIME?"Time to sleep! (".concat(t,")"):"Time for a nap! (".concat(t,")")}}]),e}(W);function H(t){var e={};return{events:x.a(t,function(t,n){var r=W.create(n);if(r instanceof N){var a=e[S.ASLEEP];a&&a.canCoalesce(r)?a.add(r):t.push(r)}else if(r instanceof _){var o=e[S.EAT];if(o&&o.canCoalesce(r))return o.add(r),t;t.push(r)}else t.push(r);return e[r.type]=r,t},[]),recent:e}}function G(t){var e=function(t){return x.a(t,function(t,e){var n=Object(I.format)(e.start,"YYYY-MM-DD");if(t[n]||(t[n]=[]),t[n].push(e),e.end){var r=Object(I.format)(e.end,"YYYY-MM-DD");n!==r&&(t[r]||(t[r]=[]),t[r].push(e))}return t},{})}(t);return D.a(e,function(t,e){var n=P.a(t,T.a("type")),r=[];if(n[S.POOP]){var a=n[S.POOP].length;r.push(new W({emoji:w.a(a,M.a("\ud83d\udca9")).join(""),start:e,color:"brown"}))}if(n[S.ASLEEP]){var o=function(t,e){return x.a(t,function(t,n){var r,a,o;return n.end?(Object(I.format)(n.start,"YYYY-MM-DD")!==e?(a=Object(I.startOfDay)(n.end),o=n.end):Object(I.format)(n.end,"YYYY-MM-DD")!==e?(a=n.start,o=Object(I.startOfDay)(n.end)):(a=n.start,o=n.end),r=Object(I.differenceInMinutes)(o,a)):r=0,t+r},0)}(n[S.ASLEEP],e);if(o){var c=n[S.ASLEEP].length;r.push(new W({emoji:w.a(c,M.a("\ud83d\ude34")).join(""),start:e,text:K(o),color:"green"}))}}if(n[S.EAT]){var i=x.a(n[S.EAT],function(t,e){return t+(e.amount?e.amount:0)},0);if(i){var u=n[S.EAT].length;r.push(new W({emoji:w.a(u,M.a("\ud83c\udf7c")).join(""),start:e,text:"took ".concat(i),color:"purple"}))}}return r})}function R(t){if(t[S.AWAKE]&&t[S.ASLEEP]&&t[S.AWAKE].start>t[S.ASLEEP].start)return new B(t[S.AWAKE].start)}var U=function(){var t=Object(r.useState)(),e=Object(f.a)(t,2),n=e[0],o=e[1],c=Object(r.useRef)();return Object(r.useEffect)(function(){function t(){return e.apply(this,arguments)}function e(){return(e=Object(s.a)(u.a.mark(function t(){var e,n,r,a,c,i,s,f;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://opensheet-production-02f1.up.railway.app/1oBithhxJbDtLmWqdntJfA72_Tz6coaNeVth4ZSNWLe8/1");case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,r=H(n),a=r.events,c=r.recent,(i=R(c))&&a.push(i),s=G(a),f=a.concat(s),o(Y.a(f,function(t){return t.toJson()}));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}return t(),window.addEventListener("focus",t),function(){window.removeEventListener("focus",t)}},[]),a.a.createElement("div",{className:"root"},a.a.createElement(y.a,{defaultView:"listDay",height:"parent",navLinks:!0,timeGridEventMinHeight:40,nowIndicator:!0,header:{left:"prev,next today goto",center:"title",right:"timeGridWeek,timeGridDay,listDay"},customButtons:{goto:{text:"jump",click:function(){var t=c.current.calendar.getDate(),e=prompt("Enter a date:",Object(I.format)(t,"M/D/YY"));if(e){var n=Object(I.parse)(e);c.current.calendar.gotoDate(n)}}}},plugins:[m.a,g.a],events:n,ref:c}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[115,1,2]]]);
//# sourceMappingURL=main.3191930a.chunk.js.map